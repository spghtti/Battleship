!function(){var t={503:function(t,e,r){function n(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var a=r(937),i=a("Player",!1),l=a("Computer",!0),u=function(t,e){return t.every((function(t,r){return t===e[r]}))},c=function(t,e){for(var r=0;r<t.length;r++)if(u(t[r],e))return!0;return!1},s=function(t,e,r,n,o){if("x"===n){for(var a=0;a<o;a++)if(c(t,[a+e,r]))return!0;return!1}if("y"===n){for(var i=0;i<o;i++)if(c(t,[e,i+r]))return!0;return!1}};e.p1=i,e.CPU=l,e.randomizeShips=function(t){for(var e=[[5,"carrier"],[4,"battleship"],[3,"destroyer"],[3,"destroyer"],[2,"submarine"],[2,"submarine"],[1,"boat"],[1,"boat"]],r=[],o=function(t){var e=Math.round(Math.random());if(0===e){for(var n=Math.floor(10*Math.random())+1-t,o=Math.floor(10*Math.random())+1;s(r,n,o,"x",t);)n=Math.floor(10*Math.random())+1-t;for(var a=n+t,i=[n,a].sort((function(t,e){return t-e})),l=i[0];l<=i[1];l++)r.push([l,o]);return[n,o,a,o]}if(1===e){for(var u=Math.floor(10*Math.random())+1,c=Math.floor(10*Math.random())+1-t;s(r,u,c,"y",t);)c=Math.floor(10*Math.random())+1-t;for(var f=c+t,h=[c,f].sort((function(t,e){return t-e})),d=h[0];d<=h[1];d++)r.push([u,d]);return[u,c,u,f]}},a=0;a<e.length;a++){var l=e[a][0]-1;t.placeShip.apply(t,n(e[a]).concat(n(o(l)))),console.log(i.fleet)}}},937:function(t,e,r){function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var o=r(963);t.exports=function(t,e){var r=[],a=[],i=[],l=[],u=[],c=function(t,e){return t.every((function(t,r){return t===e[r]}))},s=function(e,n){for(var o=document.getElementById("status"),s=0;s<u.length;s++)for(var f=0;f<Object.keys(u[s].positions).length;f++)if(c(u[s].positions[f],[e,n]))return u[s].hit(e,n),u[s].isSunk()?(o.textContent="".concat(t,"'s ").concat(u[s].name," has been sunk!"),r.push([e,n]),l.push([e,n]),i.push([e,n]),"sink"):(r.push([e,n]),i.push([e,n]),"hit");return a.push([e,n]),i.push([e,n]),"miss"},f=function(t,e){for(var r=0;r<t.length;r++)if(c(t[r],e))return!0;return!1};return{checkForLoss:function(){for(var t=document.getElementById("status"),e=0,r=0;r<u.length;r++)e+=u[r].positions.length;return 0===e&&(t.textContent="Game over!",!0)},arrayEquals:c,receiveCpuAttack:function(){var t,e=function(){return r.length>0&&l.length>0&&c(r[r.length-1],l[l.length-1])};s.apply(void 0,function(t){if(Array.isArray(t))return n(t)}(t=function(){for(var t=Math.floor(10*Math.random())+1,n=Math.floor(10*Math.random())+1;f(i,[t,n]);)t=Math.floor(10*Math.random())+1,n=Math.floor(10*Math.random())+1;if(r.length>0){var o=r[r.length-1];if(e()||(console.log("Second attack"),o[0]+1<11&&!f(i,[o[0]+1,o[1]])?(t=o[0]+1,n=o[1]):o[0]+-1>0&&!f(i,[o[0]+-1,o[1]])?(t=o[0]+-1,n=o[1]):o[1]+1<11&&!f(i,[o[0],o[1]+1])?(t=o[0],n=o[1]+1):o[1]+-1>0&&!f(i,[o[0],o[1]+-1])&&(t=o[0],n=o[1]+-1)),r.length>1&&!e()){var a=r[r.length-2],l=o[0]-a[0]+(o[1]-a[1]);e()||1!==l&&-1!==l||(console.log("Continuing chain"),1!==l&&-1!==l||(o[0]!==a[0]&&(t=o[0]-a[0]+o[0],n=o[1]),o[1]!==a[1]&&(n=o[1]-a[1]+o[1],t=o[0])))}}return[t,n]}())||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},playerName:t,fleet:u,placeShip:function(t,e,r,n,a,i){var l=o(t);if(l.name=e,r!==a)for(var c=[r,a].sort((function(t,e){return t-e})),s=c[0];s<=c[1];s++)l.positions.push([s,n]);else for(var f=[n,i].sort((function(t,e){return t-e})),h=f[0];h<=f[1];h++)l.positions.push([r,h]);u.push(l)},receiveAttack:s,enemyHits:r,missedEnemyAttacks:a,sinks:l,allEnemyAttacks:i}}},963:function(t){t.exports=function(t){var e=[],r=[];return{name:"",positions:e,hitPositions:r,isSunk:function(){return this.hitPositions.length===t},length:t,hit:function(t,n){r.push([t,n]),e.splice(function(t,e){for(var r={},n=0;n<e.length;n++)r[e[n]]=n;return r.hasOwnProperty(t)?r[t]:-1}([t,n],e),1)}}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}!function(){var t=r(503),e=t.p1,n=t.CPU,o=t.randomizeShips;function a(){for(var t=["","A","B","C","D","E","F","G","H","I","J"],e=document.getElementById("grid-one"),r=document.getElementById("grid-two");e.hasChildNodes();)e.removeChild(e.lastChild);for(;r.hasChildNodes();)r.removeChild(r.lastChild);for(var n=0;n<t.length;n++){var o=document.createElement("th"),a=document.createElement("th");o.textContent=t[n],a.textContent=t[n],e.appendChild(o),r.appendChild(a)}for(var i=0;i<10;i++){var l=document.createElement("tr"),u=document.createElement("tr"),c=document.createElement("th"),s=document.createElement("th");c.textContent=i+1,s.textContent=i+1,e.appendChild(l).className="table-row",r.appendChild(u).className="table-row",l.appendChild(c).className="table-row-header",u.appendChild(s).className="table-row-header";for(var f=0;f<10;f++){var h=document.createElement("td"),d=document.createElement("td");h.setAttribute("value","".concat(f+1,", ").concat(i+1)),d.setAttribute("value","".concat(f+1,", ").concat(i+1)),l.appendChild(h).className="gridOne-table-cell",u.appendChild(d).className="gridTwo-table-cell"}}}function i(t){for(var e=t.split(", "),r=[],n=0;n<e.length;n++)r.push(Number(e[n]));return r}var l=function(t,e){return t.every((function(t,r){return t===e[r]}))};function u(){for(var t=document.querySelectorAll(".gridTwo-table-cell"),r=document.getElementById("gameboards"),o=function(o){var a=i(t[o].attributes.value.value)[0],u=i(t[o].attributes.value.value)[1];t[o].addEventListener("click",(function(){e.checkForLoss()||n.checkForLoss()||(function(t){for(var e=i(t.attributes.value.value),r=!1,o=0;o<n.fleet.length;o++)for(var a=0;a<Object.keys(n.fleet[o].positions).length;a++)l(n.fleet[o].positions[a],e)&&(t.style.background="rgba(38, 0, 255, 0.8)",r=!0);!1===r&&(t.style.background="rgb(109, 109, 109)")}(this),n.receiveAttack(a,u),console.log(n),t[o].className+=" inactive")})),t[o].addEventListener("click",(function(){r.className+=" inactive",e.checkForLoss()||n.checkForLoss()||setTimeout((function(){e.receiveCpuAttack(),console.log(e),r.className-=" inactive",function(){for(var t=e.missedEnemyAttacks,r=document.querySelectorAll(".gridOne-table-cell"),n=0;n<t.length;n++)for(var o=0;o<r.length;o++)l(t[n],i(r[o].attributes.value.value))&&(r[o].style.background="rgb(109, 109, 109)");for(var a=0;a<e.fleet.length;a++)for(var u=0;u<Object.keys(e.fleet[a].hitPositions).length;u++)for(var c=0;c<r.length;c++)l(e.fleet[a].hitPositions[u],i(r[c].attributes.value.value))&&(r[c].style.background="rgba(255, 0, 0, 1)")}()}),1e3)}))},a=0;a<t.length;a++)o(a)}a(),u(),o(e),o(n),function(){for(var t=document.querySelectorAll(".gridOne-table-cell"),r=0;r<e.fleet.length;r++)for(var n=0;n<e.fleet[r].positions.length;n++)for(var o=0;o<t.length;o++)l(e.fleet[r].positions[n],i(t[o].attributes.value.value))&&(t[o].style.background="rgba(38, 0, 255, 0.8)")}(),console.log(e),console.log(n),document.getElementById("new-game-button").addEventListener("click",(function(){a(),u(),e.fleet=[],e.missedEnemyAttacks=[],e.enemyHits=[],n.fleet=[],n.missedEnemyAttacks=[],n.enemyHits=[]}))}()}();